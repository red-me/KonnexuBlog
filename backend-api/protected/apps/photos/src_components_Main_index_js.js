"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkproducts"] = self["webpackChunkproducts"] || []).push([["src_components_Main_index_js"],{

/***/ "./src/components/AlbumList/index.js":
/*!*******************************************!*\
  !*** ./src/components/AlbumList/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PhotoList: () => (/* binding */ PhotoList),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material-tailwind/react */ \"webpack/sharing/consume/default/@material-tailwind/react/@material-tailwind/react\");\n/* harmony import */ var _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Sidebar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Sidebar */ \"./src/components/Sidebar.js\");\n/* harmony import */ var _AddPhoto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../AddPhoto */ \"./src/components/AddPhoto/index.js\");\n/* harmony import */ var _ImageWithPreloader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ImageWithPreloader */ \"./src/components/ImageWithPreloader/index.js\");\n\n\n\n\n\nconst PhotoList = props => {\n  const {\n    user,\n    data,\n    controls,\n    components,\n    path,\n    app,\n    hostReact,\n    router,\n    query,\n    theme\n  } = props;\n  const ControlsSource = controls || _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__;\n  const {\n    Card\n  } = ControlsSource;\n  const userName = user && user.profile ? user.profile.firstName + \" \" + user.profile.lastName : '';\n  const {\n    FileUploadComponent\n  } = components;\n  const REACT = hostReact || (react__WEBPACK_IMPORTED_MODULE_1___default());\n  const [albums, setAlbums] = hostReact.useState([]);\n  const [title, setTitle] = hostReact.useState('');\n  const loadAlbums = () => {\n    try {\n      var type = path.length == 1 ? 'all-photos' : path[1];\n      var where = {\n        type: 'non-existent'\n      };\n      if (type === 'all-albums') {\n        where = {\n          type: app.name\n        };\n      } else if (type === 'my-albums') {\n        where = {\n          authorId: user.id,\n          type: app.name\n        };\n      } else if (type === 'friends-albums') {\n        where = {\n          authorId: {\n            not: user.id\n          },\n          type: app.name\n        };\n      }\n      var include = {\n        author: {\n          select: {\n            name: true,\n            password: false,\n            email: true,\n            profile: true\n          }\n        }\n      };\n      query('post', {\n        where,\n        include\n      }).then(data => {\n        setAlbums(data);\n        console.log(data);\n      });\n    } catch (error) {\n      alert(error);\n    }\n  };\n  hostReact.useEffect(() => {\n    loadAlbums();\n  }, []);\n  const h = {\n    'All Photos': 'all-photos',\n    'My Photos': 'my-photos',\n    \"All Albums\": 'all-albums',\n    \"My Albums\": 'my-albums'\n  };\n  const rh = Object.entries(h).reduce((acc, _ref) => {\n    let [key, value] = _ref;\n    acc[value] = key;\n    return acc;\n  }, {});\n  hostReact.useEffect(() => {\n    let t = 'all-albums';\n    if (path && path.length > 0) {\n      t = path[1];\n    }\n    setTitle(rh[t]);\n  }, [path]);\n  const navigateToAlbum = id => {\n    router.push(\"/\".concat(path[0], \"/view-album/\").concat(id));\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"block bg-white w-full shadow sticky top-14 z-10 py-2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"mx-auto w-full  max-w-screen-xl  flex gap-2 items-center h-8\"\n  }, h && Object.keys(h).map(p => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"text-sm text-black cursor-pointer\",\n    onClick: () => {\n      router.push(\"/\".concat(path[0], \"/\").concat(h[p]));\n    }\n  }, p)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"mx-auto w-full max-w-screen-xl \",\n    style: {\n      paddingTop: \"10px\"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"w-full\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex justify-end p-2 \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"button\", {\n    type: \"button\",\n    style: theme.data.button_primary.style,\n    className: \"\".concat(theme.data.button_primary.className, \" \"),\n    onClick: () => {\n      router.push(\"/\".concat(path[0], \"/share-photo\"));\n    }\n  }, \" Share Photo\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    class: \"flex  flex-row gap-4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    class: \"w-full md:w-full \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Card, {\n    className: \"p-0\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"h1\", {\n    className: \"capitalize p-4 border-b border-gray-100 bg-gray-50 font-black rounded-t-lg\"\n  }, title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex gap-3 flex-wrap gap-1 p-4 \"\n  }, albums && albums.map(album => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n      className: \"group flex flex-col p-0  max-w-sm mx-auto w-64 h-96\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"article\", {\n      onClick: () => {\n        navigateToAlbum(album.id);\n      },\n      style: {\n        backgroundColor: \"#333333\"\n      },\n      class: \"album-cover shadow-lg cursor-pointer relative flex flex-col isolate justify-end overflow-visible hover:shadow rounded-xs  max-w-sm mx-auto mt-24 w-64 h-64 hover:shadow-xl\"\n    }, album.content.photos && album.content.photos.length > 0 && (album.content.photos.length > 3 ? album.content.photos.slice(0, 3) : album.content.photos).map((photo, i, a) => {\n      return i === a.length - 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ImageWithPreloader__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        controls: controls,\n        hostReact: hostReact,\n        src: photo.url,\n        alt: photo.title,\n        class: \"shadow-sm  group-hover:scale-125 transition duration-500  absolute inset-0 h-full w-full object-cover\"\n      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"img\", {\n        src: photo.url,\n        alt: photo.title,\n        class: \"shadow-sm  group-hover:scale-125 transition duration-500  absolute inset-0 h-full w-full object-cover\"\n      });\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n      className: \" z-10 mt-3 text-xl p-2 min-h-32 h-32 flex justify-end gap-2\",\n      style: {\n        zIndex: 101\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n      class: \"text-normal font-bold text-white min-h-10 max-h-10 p-2 rounded flex flex-row gap-2 items-center\",\n      style: {\n        backgroundColor: \"#333333aa\"\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      fill: \"none\",\n      viewBox: \"0 0 24 24\",\n      \"stroke-width\": \"1.5\",\n      stroke: \"currentColor\",\n      class: \"w-6 h-6\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      d: \"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z\"\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, album.content.photos.length)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n      className: \" z-10 mt-3 text-xl p-2 min-h-32 h-32 gap-2 flex flex-col\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n      className: \"flex flex-row gap-2 justify-between items-center\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"p\", {\n      class: \"text-normal font-normal text-black min-h-10 max-h-10\"\n    }, album.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      fill: \"currentColor\",\n      className: \"w-4 h-4\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n      fillRule: \"evenodd\",\n      d: \"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z\",\n      clipRule: \"evenodd\"\n    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n      class: \"z-10 gap-y-1 overflow-hidden text-xs leading-6  block h-12\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n      className: \"text-gray-600\"\n    }, \"Created By\"), \"\\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n      className: \"text-black\"\n    }, album.author.name || album.author.profile.firstName + ' ' + album.author.profile.lastName)))));\n  }))))))));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PhotoList);\n\n//# sourceURL=webpack://products/./src/components/AlbumList/index.js?");

/***/ }),

/***/ "./src/components/EditPhoto/EditPhotoDialog.js":
/*!*****************************************************!*\
  !*** ./src/components/EditPhoto/EditPhotoDialog.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst EditPhotoDialog = props => {\n  var _app$settings;\n  const {\n    user,\n    album,\n    photoId,\n    controls,\n    components,\n    path,\n    app,\n    hostReact,\n    router,\n    query,\n    mutate,\n    useFormik,\n    closeDialog,\n    updatePhoto,\n    updateAlbum,\n    theme\n  } = props;\n  const categories = app === null || app === void 0 || (_app$settings = app.settings) === null || _app$settings === void 0 ? void 0 : _app$settings.categories.filter(c => c.active);\n  const {\n    SelectMultiple,\n    SelectOne,\n    Toastify\n  } = props.components;\n  const {\n    Bounce,\n    ToastContainer,\n    toast\n  } = Toastify;\n  const [albums, setAlbums] = hostReact.useState([]);\n  const [albumId, setAlbumId] = hostReact.useState(null);\n  const [photo, setPhoto] = hostReact.useState({});\n  const loadAlbums = () => {\n    try {\n      query('post', {\n        where: {\n          authorId: user.id,\n          type: app.name\n        }\n      }).then(data => {\n        setAlbums(data);\n        console.log(data);\n      });\n    } catch (error) {\n      alert(error);\n    }\n  };\n  const validate = values => {\n    const errors = {};\n    if (!values.title) {\n      errors.title = 'Title is required';\n    } else if (values.title.length > 255) {\n      errors.title = 'Must be 255 characters or less';\n    }\n\n    /*   if (!values.description) {\r\n          errors.description = 'Description is required.';\r\n      } else if (values.description.length > 5000) {\r\n          errors.description = 'Must be 5000 characters or less';\r\n      }\r\n    */\n\n    return errors;\n  };\n  const handleUpdate = async _ref => {\n    let {\n      title,\n      description\n    } = _ref;\n    var content = album.content;\n    var albumPhotos = content.photos;\n    if (album.id === albumId) {\n      //update existing photo\n      albumPhotos = albumPhotos.map(p => {\n        if (p.id && p.id === photo.id) {\n          return {\n            ...p,\n            title,\n            description,\n            categories: category\n          };\n        } else return p;\n      });\n    } else {\n      //remove from current album, since it will be moved to another album\n      albumPhotos = albumPhotos.filter(p => p.id !== photo.id);\n    }\n    // we are re-using content because we might have other properties besides 'photos' that need to be added to the update as well.\n    content.photos = albumPhotos;\n\n    //main/source album: change photo details or remove photo from album when moving to different album\n    mutate('post', 'update', {\n      where: {\n        id: album.id\n      },\n      data: {\n        content\n      }\n    }).then(updatedAlbum => {\n      if (updatedAlbum && updatedAlbum.id) {\n        if (album.id === albumId) {\n          const currentPhoto = updatedAlbum.content.photos.find(p => p.id === photoId);\n          setPhoto(currentPhoto);\n          if (updatePhoto) updatePhoto(currentPhoto);\n          if (updateAlbum) {\n            var where = {\n              type: app.name,\n              id: album.id\n            };\n            var include = {\n              author: {\n                select: {\n                  name: true,\n                  password: false,\n                  email: true,\n                  profile: true\n                }\n              }\n            };\n            query('post', {\n              where,\n              include\n            }).then(data => {\n              updateAlbum(data[0]);\n            });\n          }\n          toast.success('Photo updated successfully.', {\n            position: \"bottom-center\",\n            autoClose: 5000,\n            hideProgressBar: true,\n            closeOnClick: false,\n            pauseOnHover: false,\n            draggable: false,\n            progress: undefined,\n            theme: \"light\",\n            transition: Bounce\n          });\n        }\n\n        //moving only possible if phot was removed already from original album\n        if (album.id !== albumId) {\n          //if also moving, add photo data to target album\n          query('post', {\n            where: {\n              id: albumId,\n              type: app.name\n            }\n          }).then(targetAlbum => {\n            if (targetAlbum && targetAlbum.length === 1) {\n              var tContent = targetAlbum[0].content;\n              tContent.photos = [...tContent.photos, {\n                ...photo,\n                title,\n                description,\n                categories: category\n              }];\n              mutate('post', 'update', {\n                where: {\n                  id: targetAlbum[0].id\n                },\n                data: {\n                  content: tContent\n                }\n              }).then(updatedTargetAlbum => {\n                if (updatedTargetAlbum && updatedTargetAlbum.id) {\n                  //reload album list\n                  toast.success(\"Photo moved and updated successfully to album \\\"\".concat(updatedTargetAlbum.title, \"\\\".\"), {\n                    position: \"bottom-center\",\n                    autoClose: 5000,\n                    hideProgressBar: true,\n                    closeOnClick: false,\n                    pauseOnHover: false,\n                    draggable: false,\n                    progress: undefined,\n                    theme: \"light\",\n                    transition: Bounce\n                  });\n\n                  //loadAlbums()\n                  //closeDialog();\n                } else {\n                  toast.error('Sorry, could not update photo details.', {\n                    position: \"bottom-center\",\n                    autoClose: 5000,\n                    hideProgressBar: true,\n                    closeOnClick: false,\n                    pauseOnHover: false,\n                    draggable: false,\n                    progress: undefined,\n                    closeButton: undefined,\n                    theme: \"light\",\n                    transition: Bounce\n                  });\n                }\n              });\n            }\n          });\n        }\n\n        //loadAlbums()\n        //closeDialog();\n      } else {\n        toast.error('Sorry, could not update the photo details.', {\n          position: \"bottom-center\",\n          autoClose: 5000,\n          hideProgressBar: true,\n          closeOnClick: false,\n          pauseOnHover: false,\n          draggable: false,\n          progress: undefined,\n          closeButton: undefined,\n          theme: \"light\",\n          transition: Bounce\n        });\n      }\n    });\n  };\n\n  //const [isBusy, setIsBusy] = hostReact.useState(false)\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      albumId: (album === null || album === void 0 ? void 0 : album.id) || 0,\n      title: (photo === null || photo === void 0 ? void 0 : photo.title) || '',\n      description: (photo === null || photo === void 0 ? void 0 : photo.description) || ''\n\n      /*   userId: user.id */\n    },\n    validate,\n    onSubmit: values => {\n      handleUpdate(values);\n    }\n  });\n  const {\n    visible\n  } = props;\n  const [hideForm, setHideForm] = hostReact.useState(true);\n  hostReact.useEffect(() => {\n    if (visible === true) {\n      document.body.style.overflow = 'hidden';\n      setHideForm(false);\n    } else {\n      setTimeout(() => {\n        setHideForm(true);\n      }, 1000);\n      if (visible === false) {\n        document.body.style.overflow = 'unset';\n      }\n    }\n    return () => {\n      if (visible === false) {\n        document.body.style.overflow = 'unset';\n      }\n    };\n  }, [visible]);\n  hostReact.useEffect(() => {\n    if (album) {\n      setPhoto(album.content.photos.find(p => p.id === photoId));\n    }\n  }, [photoId]);\n  const [category, setCategory] = hostReact.useState([]);\n  hostReact.useEffect(() => {\n    setCategory(photo.categories);\n    return () => {};\n  }, [photo]);\n  hostReact.useEffect(() => {\n    loadAlbums();\n  }, []);\n  hostReact.useEffect(() => {\n    if (album) setAlbumId(album.id);\n  }, [album]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"small-modal-backdrop\",\n    tabindex: \"-1\",\n    style: {\n      zIndex: 10,\n      background: \"#333333cc\",\n      display: visible ? \"block\" : \"none\",\n      opacity: visible ? 1 : 0\n    },\n    className: \" fixed top-0 transition-all delay-1000 left-0 right-0 z-50 items-center justify-center  flex  h-full w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"small-modal\",\n    tabindex: \"-1\",\n    style: {\n      zIndex: 11,\n      background: \"transparent\",\n      display: hideForm ? 'none' : '',\n      top: visible ? \"0%\" : \"-20%\",\n      opacity: visible ? 1 : 0\n    },\n    className: \" fixed transition-all delay-1000  left-0 right-0 z-50 items-center justify-center  flex  h-full w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    class: \"relative w-full max-w-md max-h-full items-center justify-center select-none\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"form\", {\n    onSubmit: formik.handleSubmit,\n    class: \"flex flex-col  gap-2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    class: \"bg-white rounded-lg shadow dark:bg-gray-700\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    class: \"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h1\", {\n    class: \"text-xl font-medium text-gray-900 dark:text-white\"\n  }, \"Editing Photo\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"button\",\n    onClick: () => closeDialog(),\n    class: \"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white\",\n    \"data-modal-hide\": \"small-modal\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    class: \"w-3 h-3\",\n    \"aria-hidden\": \"true\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 14 14\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    stroke: \"currentColor\",\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    class: \"sr-only\"\n  }, \"Close modal\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    class: \"p-5 md:p-5 space-y-4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    htmlFor: \"album\",\n    className: \"block mb-2 text-sm font-medium text-gray-900 dark:text-white font-semibold text-md\"\n  }, \"Album \", album.id !== albumId && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"font-normal \"\n  }, \"\\xA0(photo will be moved to this Album)\"), \" \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SelectOne, {\n    items: albums,\n    idField: \"id\",\n    textField: \"title\",\n    descriptionField: \"description\",\n    selectedValue: albumId,\n    setSelectedValue: setAlbumId\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    htmlFor: \"name\",\n    className: \"block mb-2 text-sm font-medium text-gray-900 dark:text-white font-semibold text-md\"\n  }, \"Title\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"text\",\n    name: \"title\",\n    id: \"title\",\n    onChange: formik.handleChange,\n    value: formik.values.title,\n    className: \"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",\n    placeholder: \"Title of the photo\",\n    required: \"\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"text-red-700 text-xs\"\n  }, formik.errors.title, \"\\xA0\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    htmlFor: \"description\",\n    className: \"block mb-2 text-sm font-medium text-gray-900 dark:text-white font-semibold text-md\"\n  }, \"Description\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"textarea\", {\n    rows: 5,\n    name: \"description\",\n    id: \"description\",\n    onChange: formik.handleChange,\n    value: formik.values.description,\n    className: \"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",\n    placeholder: \"What is this photo about?\",\n    required: \"\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"text-red-700 text-xs\"\n  }, formik.errors.description, \"\\xA0\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    htmlFor: \"description\",\n    className: \"block mb-2 text-sm font-medium text-gray-900 dark:text-white font-semibold text-md\"\n  }, \"Categories\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SelectMultiple, {\n    items: categories,\n    idField: \"id\",\n    textField: \"name\",\n    selectedValue: category,\n    setSelectedValue: setCategory\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    class: \"flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600 gap-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"submit\",\n    style: theme.data.button_primary.style,\n    className: \"\".concat(theme.data.button_primary.className, \" \")\n  }, \"Save\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"button\",\n    onClick: () => closeDialog(),\n    class: \"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700\"\n  }, \"Close\")))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ToastContainer, null)));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditPhotoDialog);\n\n//# sourceURL=webpack://products/./src/components/EditPhoto/EditPhotoDialog.js?");

/***/ }),

/***/ "./src/components/EditPhoto/EditPhotoMenu.js":
/*!***************************************************!*\
  !*** ./src/components/EditPhoto/EditPhotoMenu.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _material_tailwind_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-tailwind/react */ \"webpack/sharing/consume/default/@material-tailwind/react/@material-tailwind/react\");\n/* harmony import */ var _material_tailwind_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_material_tailwind_react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction index(props) {\n  const {\n    hostReact,\n    controls,\n    album,\n    albumId,\n    photoId,\n    router,\n    color = \"#ffffff\",\n    menuProps,\n    menuItemClassName = 'text-white',\n    editAction,\n    deleteAction\n  } = props;\n  const ControlsSource = controls || _material_tailwind_react__WEBPACK_IMPORTED_MODULE_1__;\n  const {\n    Menu,\n    MenuHandler,\n    MenuList,\n    MenuItem\n  } = ControlsSource;\n  const [isHovered, setIsHovered] = hostReact.useState(false);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Menu, menuProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MenuHandler, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: [\"w-8 h-8 cursor-pointer\", menuItemClassName].join(' '),\n    onMouseEnter: () => setIsHovered(true),\n    onMouseLeave: () => setIsHovered(false)\n  }, isHovered ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    className: \"w-6 h-6\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z\",\n    clipRule: \"evenodd\"\n  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    \"stroke-width\": \"1.5\",\n    stroke: \"currentColor\",\n    class: \"w-6 h-6\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    d: \"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    d: \"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MenuList, {\n    className: \"px-0 py-1\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MenuItem, {\n    className: \"rounded-none\",\n    onClick: e => {\n      editAction(e, {\n        album,\n        photoId\n      });\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"flex flex-row justify-start items-center gap-4 mx-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    className: \"w-4 h-4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, \"Edit this photo\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MenuItem, {\n    className: \"rounded-none\",\n    onClick: e => {\n      deleteAction();\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"flex flex-row justify-start items-center gap-4 mx-3\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    className: \"w-4 h-4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, \"Delete this photo\"))))));\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (index);\n\n//# sourceURL=webpack://products/./src/components/EditPhoto/EditPhotoMenu.js?");

/***/ }),

/***/ "./src/components/ImageWithPreloader/index.js":
/*!****************************************************!*\
  !*** ./src/components/ImageWithPreloader/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction index(props) {\n  const {\n    src,\n    alt,\n    hostReact,\n    ...otherProps\n  } = props;\n  const {\n    Spinner\n  } = props.controls;\n  const [imageSrc, _setImageSrc] = hostReact.useState(src);\n  const [isLoaded, setIsLoaded] = hostReact.useState(false);\n  hostReact.useEffect(() => {\n    const img = new Image();\n    img.onload = () => {\n      _setImageSrc(src);\n      setIsLoaded(true);\n    };\n    img.src = src;\n  }, [src]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", _extends({\n    style: {\n      display: isLoaded ? \"\" : \"none\"\n    }\n  }, otherProps, {\n    alt: alt,\n    src: imageSrc\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", _extends({}, otherProps, {\n    className: \"w-full h-full items-center justify-center flex\",\n    style: {\n      display: isLoaded ? 'none' : ''\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Spinner, {\n    className: \"h-12 w-12 m-auto\"\n  })));\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (index);\n\n//# sourceURL=webpack://products/./src/components/ImageWithPreloader/index.js?");

/***/ }),

/***/ "./src/components/Main/index.js":
/*!**************************************!*\
  !*** ./src/components/Main/index.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Main: () => (/* binding */ Main),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material-tailwind/react */ \"webpack/sharing/consume/default/@material-tailwind/react/@material-tailwind/react\");\n/* harmony import */ var _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _PhotoList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../PhotoList */ \"./src/components/PhotoList/index.js\");\n/* harmony import */ var _AddPhoto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../AddPhoto */ \"./src/components/AddPhoto/index.js\");\n/* harmony import */ var _AlbumList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../AlbumList */ \"./src/components/AlbumList/index.js\");\n/* harmony import */ var _ViewPhoto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ViewPhoto */ \"./src/components/ViewPhoto/index.js\");\n/* harmony import */ var _ViewAlbum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ViewAlbum */ \"./src/components/ViewAlbum/index.js\");\n/* harmony import */ var _Settings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Settings */ \"./src/components/Settings/index.js\");\n\n\n\n\n\n\n\n\nconst Main = props => {\n  const {\n    path\n  } = props;\n  const InnerPage = _ref => {\n    let {\n      path\n    } = _ref;\n    if (path == null || path.length === 1) {\n      //use default page\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_PhotoList__WEBPACK_IMPORTED_MODULE_2__[\"default\"], props);\n    }\n\n    //url:/app/name/y/z\n    const name = path[1].toLowerCase();\n    //if matches app names... todo: get app names from backend\n    if (['category', 'all-photos', 'my-photos', 'friends-photos'].indexOf(name) > -1) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_PhotoList__WEBPACK_IMPORTED_MODULE_2__[\"default\"], props);\n    }\n    if (['all-albums', 'my-albums', 'friends-albums'].indexOf(name) > -1) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_AlbumList__WEBPACK_IMPORTED_MODULE_4__[\"default\"], props);\n    }\n\n    //url: user/name/y/z\n\n    if (['share-photo'].indexOf(name) > -1) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_AddPhoto__WEBPACK_IMPORTED_MODULE_3__[\"default\"], props, \" \");\n    }\n    if (['view-album'].indexOf(name) > -1) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ViewAlbum__WEBPACK_IMPORTED_MODULE_6__[\"default\"], props, \" \");\n    }\n    if (['view-photo'].indexOf(name) > -1) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ViewPhoto__WEBPACK_IMPORTED_MODULE_5__[\"default\"], props, \" \");\n    }\n    if (['settings'].indexOf(name) > -1) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Settings__WEBPACK_IMPORTED_MODULE_7__[\"default\"], props, \" \");\n    }\n\n    // lastly, user names\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_PhotoList__WEBPACK_IMPORTED_MODULE_2__[\"default\"], props);\n\n    /* return (\r\n        <>\r\n            {slug}\r\n        </>\r\n    ); */\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(InnerPage, {\n    path: path\n  }));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Main);\n\n//# sourceURL=webpack://products/./src/components/Main/index.js?");

/***/ }),

/***/ "./src/components/PhotoList/index.js":
/*!*******************************************!*\
  !*** ./src/components/PhotoList/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PhotoList: () => (/* binding */ PhotoList),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material-tailwind/react */ \"webpack/sharing/consume/default/@material-tailwind/react/@material-tailwind/react\");\n/* harmony import */ var _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Sidebar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Sidebar */ \"./src/components/Sidebar.js\");\n/* harmony import */ var _AddPhoto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../AddPhoto */ \"./src/components/AddPhoto/index.js\");\n/* harmony import */ var _EditPhoto_EditPhotoMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../EditPhoto/EditPhotoMenu */ \"./src/components/EditPhoto/EditPhotoMenu.js\");\n/* harmony import */ var _EditPhoto_EditPhotoDialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../EditPhoto/EditPhotoDialog */ \"./src/components/EditPhoto/EditPhotoDialog.js\");\n/* harmony import */ var _ImageWithPreloader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ImageWithPreloader */ \"./src/components/ImageWithPreloader/index.js\");\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\nconst PhotoList = props => {\n  const {\n    user,\n    controls,\n    components,\n    path,\n    app,\n    hostReact,\n    router,\n    query,\n    theme\n  } = props;\n  const ControlsSource = controls || _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__;\n  const {\n    Card,\n    Spinner\n  } = ControlsSource;\n  const [albums, setAlbums] = hostReact.useState([]);\n  const [filteredAlbums, setFilteredAlbums] = hostReact.useState([]);\n  const [title, setTitle] = hostReact.useState('');\n  const [search, setSearch] = hostReact.useState('');\n  const [isLoading, setIsLoading] = hostReact.useState(false);\n  const loadAlbums = () => {\n    try {\n      if (isLoading) return;\n      setIsLoading(true);\n      var type = path.length === 1 ? 'all-photos' : path[1];\n      var where = {};\n      if (type === 'all-photos') {\n        where = {\n          type: app.name\n        };\n      } else if (type === 'my-photos') {\n        where = {\n          authorId: user.id,\n          type: app.name\n        };\n      } else if (type === 'friends-photos') {\n        where = {\n          authorId: {\n            not: user.id\n          },\n          type: app.name\n        };\n      } else if (type === 'category') {\n        where = {\n          type: app.name\n        };\n        if (app.settings) {\n          const searchCategoryText = path[2];\n          const categoryItem = app.settings.categories.find(c => c.name === searchCategoryText);\n          const searchCategoryId = categoryItem ? categoryItem.id : '';\n          where = {\n            ...where,\n            content: {\n              path: '$.photos[*].categories[*]',\n              array_contains: searchCategoryId\n            }\n          };\n        } else {}\n      }\n\n      // the search keyword.. DO the search on returned results for now..\n      /*  if (search.length > 0) {\r\n         if (where.content && where.content.path) {\r\n           const prevWhere = { ...where }\r\n           where = {\r\n             AND: [\r\n               prevWhere\r\n               ,\r\n               {\r\n                 content: {\r\n                   path: '$.photos[*].title',\r\n                   array_contains: search,\r\n                 },\r\n               }\r\n             ]\r\n           }\r\n            }\r\n         else {\r\n           where.content = {\r\n             path: '$.photos[*].title',\r\n             array_contains: search,\r\n           }\r\n         }\r\n          } */\n\n      query('post', {\n        where\n      }).then(data => {\n        var updatedData = data;\n\n        //quirky filters for category based search since backend does not allow yet returning pre-filtered photo list based on category.\n        if (type === 'category') {\n          // include only photos that has this category\n\n          const categoryItem = app.settings.categories.find(c => c.name === path[2]);\n          updatedData = updatedData.map(album => {\n            const {\n              content,\n              ...restOfAlbum\n            } = album;\n            const {\n              photos,\n              ...restOfContent\n            } = content;\n            const filteredPhotos = photos.filter(p => {\n              return p.categories.findIndex(c => c === categoryItem.id) > -1 && (search.length === 0 ? true : p.title.includes(search));\n            });\n            content.photos = filteredPhotos;\n            return {\n              ...restOfAlbum,\n              content: {\n                ...restOfContent,\n                photos: filteredPhotos\n              }\n            };\n          });\n        }\n        setAlbums(updatedData);\n        setTimeout(() => {\n          setIsLoading(false);\n        }, 1000);\n      });\n    } catch (error) {\n      setIsLoading(false);\n      alert(error);\n    }\n  };\n  hostReact.useEffect(() => {\n    loadAlbums();\n  }, []);\n  hostReact.useEffect(() => {\n    const getData = setTimeout(() => {\n      loadAlbums();\n    }, 2000);\n    return () => clearTimeout(getData);\n  }, [search, albums]);\n  hostReact.useEffect(() => {\n    //let updatedData =\n    if (albums) {\n      /*  setFilteredAlbums(albums.map(album => {\r\n         const { content, ...restOfAlbum } = album;\r\n         const { photos, ...restOfContent } = content;\r\n            const filteredPhotos = photos.filter(p => {\r\n           if (search.length === 0) return true;\r\n              return p.title.includes(search)\r\n         })\r\n         content.photos = filteredPhotos;\r\n            return {\r\n           ...restOfAlbum, content: { ...restOfContent, photos: filteredPhotos }\r\n         }\r\n       }).filter(m => m.content.photos.length > 0)) */\n\n      setFilteredAlbums(albums);\n    }\n  }, [albums]);\n  const editPhotoClick = (e, data) => {\n    e.preventDefault();\n    setSelectedPhotoId(data.photoId);\n    setAlbum(data.album);\n    setIsEditPhoto(true);\n    return false;\n  };\n  const [isEditPhoto, setIsEditPhoto] = hostReact.useState(false);\n  const [album, setAlbum] = hostReact.useState(null);\n  const [selectedPhotoId, setSelectedPhotoId] = hostReact.useState(null);\n  const h = {\n    'All Photos': 'all-photos',\n    'My Photos': 'my-photos',\n    \"All Albums\": 'all-albums',\n    \"My Albums\": 'my-albums'\n  };\n  const rh = Object.entries(h).reduce((acc, _ref) => {\n    let [key, value] = _ref;\n    acc[value] = key;\n    return acc;\n  }, {});\n  hostReact.useEffect(() => {\n    let t = 'all-photos';\n    if (path.length > 1) {\n      t = path[1];\n    }\n    var tt = '';\n    if (t === 'category') {\n      tt = \"Category: \" + path[2];\n    } else {\n      tt = rh[t];\n    }\n    setTitle(tt);\n  }, [path]);\n  const handlePhotoClick = (e, id, mode) => {\n    e.preventDefault();\n    const url = \"/\".concat(path[0], \"/\").concat(mode, \"/\").concat(id);\n    router.push(url);\n    return false;\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"block bg-white w-full shadow sticky top-14 z-1 py-2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"mx-auto w-full  max-w-screen-xl  flex gap-2 items-center h-8\"\n  }, h && Object.keys(h).map(p => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"text-sm text-black cursor-pointer\",\n    onClick: () => {\n      router.push(\"/\".concat(path[0], \"/\").concat(h[p]));\n    }\n  }, p)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"mx-auto w-full max-w-screen-xl\",\n    style: {\n      paddingTop: \"10px\"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"w-full  \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex justify-end p-2 \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"button\", {\n    type: \"button\",\n    style: theme.data.button_primary.style,\n    className: \"\".concat(theme.data.button_primary.className, \" \"),\n    onClick: () => {\n      router.push(\"/\".concat(path[0], \"/share-photo\"));\n    }\n  }, \" Share Photos\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    class: \"flex  flex-row gap-4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    class: \"w-full md:w-1/4  \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Sidebar__WEBPACK_IMPORTED_MODULE_2__[\"default\"], props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    class: \"w-full md:w-3/4 \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Card, {\n    className: \"p-0 \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"h1\", {\n    className: \"capitalize  border-b border-gray-100 bg-gray-50 font-black rounded-t-lg flex flex-row justify-between items-center gap-4 pr-4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"input\", {\n    className: \"block p-4 outline-none bg-transparent rounded-t-lg\",\n    placeHolder: 'Find a photo by name...',\n    onChange: e => setSearch(e.target.value.trim())\n  }), isLoading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Spinner, null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    className: \"w-6 h-6\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"h1\", {\n    className: \"capitalize p-4  font-black \"\n  }, title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex gap-3 flex-wrap gap-1 p-4 justify-start\"\n  }, filteredAlbums && filteredAlbums.map(album => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, album.content.photos && album.content.photos.map(_ref2 => {\n      let {\n        id,\n        url,\n        title,\n        description\n      } = _ref2;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"article\", {\n        className: \"select-none hover-item group transition-all  relative isolate flex flex-col justify-end overflow-hidden rounded-xs px-0 pb-8 pt-40 max-w-sm  w-64 h-64 bg-gray-400 hover:shadow-xl\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ImageWithPreloader__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        controls: controls,\n        hostReact: hostReact,\n        src: url,\n        alt: title,\n        class: \"hover-img group-hover:scale-125 transition duration-500  absolute inset-0 h-full w-full object-cover\",\n        onClick: e => {\n          handlePhotoClick(e, \"\".concat(album.id, \"/\").concat(id), \"view-photo\");\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        className: \"hover-backdrop absolute w-full h-full inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40 \",\n        onClick: e => {\n          handlePhotoClick(e, \"\".concat(album.id, \"/\").concat(id), \"view-photo\");\n        }\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        className: \"z-10 mt-3 text-xl p-2 h-32 transition \"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n        className: \"flex flex-row justify-between gap-1\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"p\", {\n        class: \" text-normal font-semibold text-white min-h-10 max-h-10 truncate  hover-label\",\n        title: description\n      }, title), album.authorId === user.id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_EditPhoto_EditPhotoMenu__WEBPACK_IMPORTED_MODULE_4__[\"default\"], _extends({}, props, {\n        album: album,\n        albumId: album.id,\n        photoId: id,\n        placement: \"top-end\",\n        menuItemClassName: \"text-white \",\n        editAction: editPhotoClick\n      })))));\n    }));\n  }))))))), album && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_EditPhoto_EditPhotoDialog__WEBPACK_IMPORTED_MODULE_5__[\"default\"], _extends({}, props, {\n    visible: isEditPhoto,\n    album: album,\n    photoId: selectedPhotoId,\n    closeDialog: () => {\n      setIsEditPhoto(false);\n    }\n  })));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PhotoList);\n\n//# sourceURL=webpack://products/./src/components/PhotoList/index.js?");

/***/ }),

/***/ "./src/components/Sidebar.js":
/*!***********************************!*\
  !*** ./src/components/Sidebar.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Sidebar)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n/* import {\r\n    Card,\r\n    Typography,\r\n    List,\r\n    ListItem,\r\n    ListItemPrefix,\r\n    ListItemSuffix,\r\n    Chip,\r\n} from \"@material-tailwind/react\"; */\n\nfunction Sidebar(props) {\n  var _app$settings;\n  const {\n    path,\n    query,\n    hostReact,\n    controls,\n    app,\n    router\n  } = props;\n  const {\n    Card,\n    Typography,\n    List,\n    ListItem\n  } = controls;\n  const category = path[2] || '';\n  const categories = app === null || app === void 0 || (_app$settings = app.settings) === null || _app$settings === void 0 ? void 0 : _app$settings.categories.filter(c => c.active);\n  //  hostReact.useEffect(() => {\n\n  /*   if (query)\r\n        try {\r\n            query('app', {\r\n                where: { name: \"photo\" }\r\n            }).then(app => {\r\n    \r\n                setCats(app[0].settings.categories)\r\n            })\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n  */\n  //}, [query])\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Card, {\n    className: \"h-[calc(100vh-2rem)] w-full max-w-[20rem] p-0 shadow-xl shadow-blue-gray-900/5\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"mb-2 p-2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Typography, {\n    variant: \"h5\",\n    color: \"blue-gray\"\n  }, \"Categories\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(List, null, categories && categories.map(c => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ListItem, {\n    style: {\n      background: category === c ? '#cccccc' : ''\n    },\n    onClick: () => {\n      router.push(\"/\".concat(path[0], \"/category/\").concat(c.name));\n    }\n  }, c.name))));\n}\n\n//# sourceURL=webpack://products/./src/components/Sidebar.js?");

/***/ }),

/***/ "./src/components/ViewAlbum/index.js":
/*!*******************************************!*\
  !*** ./src/components/ViewAlbum/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   index: () => (/* binding */ index)\n/* harmony export */ });\n/* harmony import */ var _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material-tailwind/react */ \"webpack/sharing/consume/default/@material-tailwind/react/@material-tailwind/react\");\n/* harmony import */ var _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Sidebar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Sidebar */ \"./src/components/Sidebar.js\");\n/* harmony import */ var _EditPhoto_EditPhotoMenu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../EditPhoto/EditPhotoMenu */ \"./src/components/EditPhoto/EditPhotoMenu.js\");\n/* harmony import */ var _EditPhoto_EditPhotoDialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../EditPhoto/EditPhotoDialog */ \"./src/components/EditPhoto/EditPhotoDialog.js\");\n/* harmony import */ var _ImageWithPreloader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ImageWithPreloader */ \"./src/components/ImageWithPreloader/index.js\");\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\nconst index = props => {\n  const {\n    user,\n    data,\n    controls,\n    components,\n    path,\n    app,\n    hostReact,\n    router,\n    query,\n    theme\n  } = props;\n  const ControlsSource = controls || _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__;\n  const {\n    Card,\n    Button\n  } = ControlsSource;\n\n  //path must be in app/index/{albumid/{photoid}\n\n  const albumId = parseInt(path[2]);\n  const photoId = path[3];\n  const [album, setAlbum] = hostReact.useState(null);\n  const [photoIndex, setPhotoIndex] = hostReact.useState(0);\n  const [photo, setPhoto] = hostReact.useState(null);\n  const [title, setTitle] = hostReact.useState('');\n  const loadAlbum = () => {\n    try {\n      var where = {};\n      where = {\n        type: app.name,\n        id: albumId\n      };\n      var include = {\n        author: {\n          select: {\n            name: true,\n            password: false,\n            email: true,\n            profile: true\n          }\n        }\n      };\n      query('post', {\n        where,\n        include\n      }).then(data => {\n        setAlbum(data[0]);\n      });\n    } catch (error) {\n      alert(error);\n    }\n  };\n  hostReact.useEffect(() => {\n    loadAlbum();\n  }, []);\n  hostReact.useEffect(() => {\n    if (album) {\n      const foundAt = album.content.photos.findIndex(p => {\n        return p.id === photoId;\n      });\n      if (foundAt > -1) {\n        setPhotoIndex(foundAt);\n      }\n    }\n    return () => {\n      setPhotoIndex(0);\n    };\n  }, [album]);\n  const back = () => {\n    if (album) {\n      if (photoIndex > 0) setPhotoIndex(p => p - 1);\n    }\n  };\n  const forward = () => {\n    try {\n      if (album) {\n        if (photoIndex < album.content.photos.length - 1) setPhotoIndex(p => p + 1);\n      }\n    } catch (error) {\n      alert(JSON.stringify(error));\n    }\n  };\n  hostReact.useEffect(() => {\n    if (album && photoIndex > -1) {\n      setPhoto(album.content.photos[photoIndex]);\n    }\n    return () => {\n      setPhoto(null);\n    };\n  }, [photoIndex, album]);\n  const editPhotoClick = (e, data) => {\n    const {\n      album,\n      photoId\n    } = data;\n    setPhoto(album.content.photos.find(p => p.id === photoId));\n    e.preventDefault();\n    setIsEditPhoto(true);\n    return false;\n  };\n  const [isEditPhoto, setIsEditPhoto] = hostReact.useState(false);\n  const h = {\n    'All Photos': 'all-photos',\n    'My Photos': 'my-photos',\n    \"All Albums\": 'all-albums',\n    \"My Albums\": 'my-albums'\n  };\n  const rh = Object.entries(h).reduce((acc, _ref) => {\n    let [key, value] = _ref;\n    acc[value] = key;\n    return acc;\n  }, {});\n  hostReact.useEffect(() => {\n    let t = 'all-photos';\n    if (path.length > 1) {\n      t = path[1];\n    }\n    var tt = '';\n    if (t === 'category') {\n      tt = \"Category: \" + path[2];\n    } else {\n      tt = rh[t];\n    }\n    setTitle(tt);\n  }, [path]);\n  const handlePhotoClick = (e, id, mode) => {\n    e.preventDefault();\n    router.push(\"/\".concat(path[0], \"/\").concat(mode, \"/\").concat(id));\n    return false;\n  };\n  const [isFullScreen, setIsFullScreen] = hostReact.useState(false);\n  hostReact.useEffect(() => {\n    const handleEsc = event => {\n      if (event.key === 'Escape') {\n        setIsFullScreen(false);\n      }\n    };\n    window.addEventListener('keydown', handleEsc);\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"block bg-white w-full shadow sticky top-14 z-10 py-2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"mx-auto w-full  max-w-screen-xl  flex gap-2 items-center h-8\"\n  }, h && Object.keys(h).map(p => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"text-sm text-black cursor-pointer\",\n    onClick: () => {\n      router.push(\"/\".concat(path[0], \"/\").concat(h[p]));\n    }\n  }, p)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"mx-auto w-full max-w-screen-xl\",\n    style: {\n      paddingTop: \"10px\"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"w-full\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex justify-end p-2 \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"button\", {\n    type: \"button\",\n    style: theme.data.button_primary.style,\n    className: \"\".concat(theme.data.button_primary.className, \" \"),\n    onClick: () => {\n      router.push(\"/\".concat(path[0], \"/share-photo\"));\n    }\n  }, \" Share Photo\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    class: \"flex  flex-row gap-4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    class: \"w-full md:w-full \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Card, {\n    className: \"p-0 \"\n  }, album && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex flex-col p-2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"h1\", {\n    className: \"capitalize p-2  font-bold text-xl\"\n  }, album.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex flex-row justify-between item-start\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex items-start  items-center gap-2 px-2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex-none\"\n  }, album.author.profile.avatar && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"img\", {\n    className: \"w-8 h-8 rounded-full border-2 border-spacing-2 dark:border-orange-600   border-orange-600\",\n    src: album.author.profile.avatar,\n    alt: \"avatar\"\n  }), album.author.profile.avatar === null && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"  relative inline-flex items-center justify-center w-8 h-8 overflow-hidden bg-gray-100  rounded-full border-2 dark:bg-gray-100  dark:border-gray-500   border-gray-500\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"font-bold  dark:text-gray-300 text-xs\"\n  }, user.profile.firstName[0], album.author.profile.lastName[0]))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"grow  text-sm dark:text-white gap-0 p-0 text-xs flex flex-col  justify-start\"\n  }, \" \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"\"\n  }, \"By\\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"text-black\"\n  }, album.author.name || album.author.profile.firstName + ' ' + album.author.profile.lastName)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"\"\n  }, new Date(album.createdAt).toLocaleString()))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"px-4 text-sm\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"font-bold\"\n  }, album.content.photos.length), \" photo(s)\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"gap-2 p-4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"p\", null, album.description))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex gap-3 flex-wrap gap-1 p-4 justify-start flex-row items-start\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, album && album.content.photos && album.content.photos.map(_ref2 => {\n    let {\n      id,\n      url,\n      title,\n      description\n    } = _ref2;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"article\", {\n      className: \"select-none hover-item group transition-all  relative isolate flex flex-col justify-end overflow-hidden rounded-xs px-0 pb-8 pt-40 max-w-sm  w-64 h-64 bg-gray-400 hover:shadow-xl\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ImageWithPreloader__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      controls: controls,\n      hostReact: hostReact,\n      src: url,\n      alt: title,\n      class: \"hover-img group-hover:scale-125 transition duration-500  absolute inset-0 h-full w-full object-cover\",\n      onClick: e => {\n        handlePhotoClick(e, \"\".concat(album.id, \"/\").concat(id), \"view-photo\");\n      }\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n      className: \"hover-backdrop absolute w-full h-full inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40 \",\n      onClick: e => {\n        handlePhotoClick(e, \"\".concat(album.id, \"/\").concat(id), \"view-photo\");\n      }\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n      className: \"z-10 mt-3 text-xl p-2 h-32 transition \"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n      className: \"flex flex-row justify-between gap-1\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"p\", {\n      class: \" text-md font-semibold text-white min-h-10 max-h-10 truncate  hover-label\",\n      title: description\n    }, title), album.authorId === user.id && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_EditPhoto_EditPhotoMenu__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _extends({}, props, {\n      album: album,\n      albumId: album.id,\n      photoId: id,\n      placement: \"top-end\",\n      menuItemClassName: \"text-white \",\n      editAction: editPhotoClick\n    })))));\n  })))))))), photo && isFullScreen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    style: {\n      background: \"#333333\"\n    },\n    className: \"z-50  absolute top-0 left-0 w-full h-full\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"img\", {\n    src: photo.url,\n    alt: photo.title,\n    style: {\n      cursor: isFullScreen ? \"zoom-out\" : \"zoom-in\"\n    },\n    onClick: () => {\n      if (isFullScreen) {\n        setIsFullScreen(false);\n      }\n    },\n    className: \"group-hover:scale-125 transition duration-500  object-contain absolute inset-0 h-full w-auto mx-auto \"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"hover-show z-10 mt-3 text-xl p-2 h-0 transition absolute w-full top-0 justify-end flex \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"p-2 w-14 h-14 cursor-pointer rounded-md\",\n    style: {\n      background: \"#333333aa\",\n      color: \"#ffffff\"\n    },\n    onClick: () => setIsFullScreen(false)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    className: \"w-6 h-6\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25\"\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"hover-show z-10 mt-3 text-xl p-2 h-0 transition absolute w-full top-1/2\",\n    onClick: () => setIsFullScreen(false)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex flex-row justify-between gap-1 block text-white \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"p-2 w-14 h-14 cursor-pointer rounded-md\",\n    style: {\n      background: \"#333333aa\"\n    }\n  }, photoIndex > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    className: \"w-10 h-10\",\n    onClick: e => {\n      e.stopPropagation();\n      back();\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z\",\n    clipRule: \"evenodd\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"p-2 w-14 h-14 cursor-pointer rounded-md\",\n    style: {\n      background: \"#333333aa\"\n    }\n  }, album && photoIndex < album.content.photos.length - 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    className: \"w-10 h-10\",\n    onClick: e => {\n      e.stopPropagation();\n      forward();\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z\",\n    clipRule: \"evenodd\"\n  })))))), photo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_EditPhoto_EditPhotoDialog__WEBPACK_IMPORTED_MODULE_4__[\"default\"], _extends({}, props, {\n    visible: isEditPhoto,\n    album: album,\n    updateAlbum: setAlbum,\n    photoId: photo.id,\n    closeDialog: () => {\n      setIsEditPhoto(false);\n    }\n  })));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (index);\n\n//# sourceURL=webpack://products/./src/components/ViewAlbum/index.js?");

/***/ }),

/***/ "./src/components/ViewPhoto/index.js":
/*!*******************************************!*\
  !*** ./src/components/ViewPhoto/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewPhoto: () => (/* binding */ ViewPhoto),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material-tailwind/react */ \"webpack/sharing/consume/default/@material-tailwind/react/@material-tailwind/react\");\n/* harmony import */ var _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Sidebar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Sidebar */ \"./src/components/Sidebar.js\");\n/* harmony import */ var _EditPhoto_EditPhotoMenu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../EditPhoto/EditPhotoMenu */ \"./src/components/EditPhoto/EditPhotoMenu.js\");\n/* harmony import */ var _EditPhoto_EditPhotoDialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../EditPhoto/EditPhotoDialog */ \"./src/components/EditPhoto/EditPhotoDialog.js\");\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\nasync function getImageBlob(url) {\n  const resp = await fetch(url);\n  return resp.ok ? resp.blob() : Promise.reject(resp.status);\n}\nconst getSize = bytes => {\n  if (bytes === 0) {\n    return \"0.00 B\";\n  }\n  let e = Math.floor(Math.log(bytes) / Math.log(1024));\n  return (bytes / Math.pow(1024, e)).toFixed(2) + ' ' + ' KMGTP'.charAt(e) + 'B';\n};\nconst ViewPhoto = props => {\n  const {\n    user,\n    data,\n    controls,\n    components,\n    path,\n    app,\n    hostReact,\n    router,\n    query,\n    theme\n  } = props;\n  const ControlsSource = controls || _material_tailwind_react__WEBPACK_IMPORTED_MODULE_0__;\n  const {\n    Card,\n    Button\n  } = ControlsSource;\n\n  //path must be in app/viewphoto/{albumid/{photoid}\n\n  const albumId = parseInt(path[2]);\n  const photoId = path[3];\n  const [album, setAlbum] = hostReact.useState(null);\n  const [photoIndex, setPhotoIndex] = hostReact.useState(0);\n  const [photoCategories, setPhotoCategories] = hostReact.useState('');\n  const [photo, setPhoto] = hostReact.useState(null);\n  const [photoDimensions, setPhotoDimensions] = hostReact.useState([0, 0]);\n  const [photoFileSize, setPhotoFileSize] = hostReact.useState('');\n  const [title, setTitle] = hostReact.useState('');\n  const loadAlbum = () => {\n    try {\n      var where = {};\n      var include = {\n        author: {\n          select: {\n            name: true,\n            password: false,\n            email: true,\n            profile: true\n          }\n        }\n      };\n      where = {\n        type: app.name,\n        id: albumId\n      };\n      query('post', {\n        where,\n        include\n      }).then(data => {\n        setAlbum(data[0]);\n      });\n    } catch (error) {\n      alert(error);\n    }\n  };\n  hostReact.useEffect(() => {\n    loadAlbum();\n  }, []);\n  hostReact.useEffect(() => {\n    if (album) {\n      const foundAt = album.content.photos.findIndex(p => {\n        return p.id === photoId;\n      });\n      if (foundAt > -1) {\n        setPhotoIndex(foundAt);\n      }\n    }\n    return () => {\n      setPhotoIndex(0);\n    };\n  }, [album]);\n  const back = () => {\n    if (album) {\n      if (photoIndex > 0) setPhotoIndex(p => p - 1);\n    }\n  };\n  const forward = () => {\n    try {\n      if (album) {\n        if (photoIndex < album.content.photos.length - 1) setPhotoIndex(p => p + 1);\n      }\n    } catch (error) {\n      alert(JSON.stringify(error));\n    }\n  };\n  hostReact.useEffect(() => {\n    if (album && photoIndex > -1) {\n      setPhoto(album.content.photos[photoIndex]);\n    }\n    return () => {\n      setPhoto(null);\n    };\n  }, [photoIndex, album]);\n  hostReact.useEffect(() => {\n    if (photo) {\n      // alert(JSON.stringify(app.settings.categories))\n\n      /*  getImageBlob(photo.url).then(imgBlob => {\r\n         createImageBitmap(imgBlob).then(bmp => {\r\n           const { width, height } = bmp;\r\n           bmp.close(); // free memory\r\n           setPhotoDimensions([width, height]);\r\n           alert(width + \" x \" + height)\r\n         })\r\n       }) */\n      (async () => {\n        const imgBlob = await getImageBlob(photo.url);\n        setPhotoFileSize(getSize(imgBlob.size));\n        const bmp = await createImageBitmap(imgBlob);\n        const {\n          width,\n          height\n        } = bmp;\n        bmp.close(); // free memory\n        setPhotoDimensions([width, height]);\n      })();\n    }\n  }, [photo]);\n  hostReact.useEffect(() => {\n    if (app && photo) {\n      const cats = app.settings.categories.filter(cat => {\n        return cat.active === true && photo.categories.includes(cat.id);\n        //return photo.categories.find(c => { return c === cat.id && cat.active === true }) > -1\n      }).map(cat => cat.name).join(', ');\n      setPhotoCategories(cats);\n    }\n  }, [photo, app]);\n  const editPhotoClick = (e, data) => {\n    e.preventDefault();\n    setIsEditPhoto(true);\n    return false;\n  };\n  const [isEditPhoto, setIsEditPhoto] = hostReact.useState(false);\n  const h = {\n    'All Photos': 'all-photos',\n    'My Photos': 'my-photos',\n    \"All Albums\": 'all-albums',\n    \"My Albums\": 'my-albums'\n  };\n  const rh = Object.entries(h).reduce((acc, _ref) => {\n    let [key, value] = _ref;\n    acc[value] = key;\n    return acc;\n  }, {});\n  hostReact.useEffect(() => {\n    let t = 'all-photos';\n    if (path.length > 1) {\n      t = path[1];\n    }\n    var tt = '';\n    if (t === 'category') {\n      tt = \"Category: \" + path[2];\n    } else {\n      tt = rh[t];\n    }\n    setTitle(tt);\n  }, [path]);\n  const handlePhotoClick = (e, id, mode) => {\n    e.preventDefault();\n    alert(mode + \"/\" + id);\n    return false;\n  };\n  const [isFullScreen, setIsFullScreen] = hostReact.useState(false);\n  const [lastScrollTop, setLastScrollTop] = hostReact.useState(0);\n  hostReact.useEffect(() => {\n    if (isFullScreen === true) {\n      setLastScrollTop(window.scrollY);\n      window.scrollTo(0, 0);\n      document.body.style.overflow = 'hidden';\n    } else {\n      if (isFullScreen === false) {\n        document.body.style.overflow = 'unset';\n        window.scrollTo(0, lastScrollTop);\n      }\n    }\n    return () => {\n      if (isFullScreen === false) {\n        document.body.style.overflow = 'unset';\n      }\n    };\n  }, [isFullScreen]);\n  hostReact.useEffect(() => {\n    const handleEsc = event => {\n      if (event.key === 'Escape') {\n        setIsFullScreen(false);\n      }\n    };\n    window.addEventListener('keydown', handleEsc);\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"block bg-white w-full shadow sticky top-14 z-10 py-2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"mx-auto w-full  max-w-screen-xl  flex gap-2 items-center h-8\"\n  }, h && Object.keys(h).map(p => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"text-sm text-black cursor-pointer\",\n    onClick: () => {\n      router.push(\"/\".concat(path[0], \"/\").concat(h[p]));\n    }\n  }, p)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"mx-auto w-full max-w-screen-xl\",\n    style: {\n      paddingTop: \"10px\"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"w-full\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex justify-end p-2 \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"button\", {\n    type: \"button\",\n    style: theme.data.button_primary.style,\n    className: \"\".concat(theme.data.button_primary.className, \" \"),\n    onClick: () => {\n      router.push(\"/\".concat(path[0], \"/share-photo\"));\n    }\n  }, \" Share Photo\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    class: \"flex  flex-row gap-4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    class: \"w-full md:w-full \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Card, {\n    className: \"p-0 \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex gap-3 flex-wrap gap-1 p-4 justify-start flex-col\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"article\", {\n    style: {\n      minHeight: '60vh',\n      background: \"#333333\"\n    },\n    className: \"select-none bg-gray-900 w-full h-full hover-item  group transition-all  relative isolate flex flex-col justify-end overflow-hidden rounded-xs px-0 pb-8 pt-40 max-w-sm mx-auto w-full min-h-64 min-w-64 max-h-[calc(100vh-2rem)] bg-gray-400 hover:shadow-xl\"\n  }, photo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"img\", {\n    src: photo.url,\n    alt: photo.title,\n    style: {\n      cursor: isFullScreen ? \"zoom-out\" : \"zoom-in\"\n    },\n    onClick: () => {\n      if (!isFullScreen) {\n        setIsFullScreen(true);\n      }\n    },\n    className: \"group-hover:scale-125 transition duration-500  object-contain absolute inset-0 h-full w-auto mx-auto \"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"hover-show z-10 mt-3 text-xl p-2 h-72 transition absolute w-full top-1/2 flex flex-col justify-between\",\n    onClick: () => {\n      if (!isFullScreen) {\n        setIsFullScreen(true);\n      }\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex flex-row justify-between gap-1 block text-white \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"p-2 w-14 h-14 cursor-pointer rounded-md\",\n    style: {\n      background: \"#333333aa\"\n    }\n  }, photoIndex > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    className: \"w-10 h-10\",\n    onClick: e => {\n      e.stopPropagation();\n      back();\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z\",\n    clipRule: \"evenodd\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"p-2 w-14 h-14 cursor-pointer rounded-md\",\n    style: {\n      background: \"#333333aa\"\n    }\n  }, album && photoIndex < album.content.photos.length - 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    className: \"w-10 h-10\",\n    onClick: e => {\n      e.stopPropagation();\n      forward();\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z\",\n    clipRule: \"evenodd\"\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex flex-nowrap flex-row justify-center items-center w-full h-16 gap-2 mb-4\"\n  }, album && album.content.photos.map((p, pi) => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n      className: \"w-16 h-16 cursor-pointer\",\n      onClick: e => {\n        e.stopPropagation();\n        e.preventDefault();\n        if (pi !== photoIndex) {\n          setPhotoIndex(pi);\n        }\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"img\", {\n      src: p.url,\n      alt: p.title,\n      className: \"p-1 h-full w-full object-fit \".concat(photoIndex === pi ? 'bg-blue-400' : 'bg-gray-50')\n    }));\n  })))))), photo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex flex-col gap-2 justify-start border-t border-gray-50\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex flex-row justify-between gap-4 px-2 items-center select-none\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"h1\", {\n    className: \"capitalize p-2  font-semibold\"\n  }, photo.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex flex-row gap-2 text-black\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    className: \"w-6 h-6\",\n    onClick: () => {\n      setIsFullScreen(p => true);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M15 3.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0V5.56l-3.97 3.97a.75.75 0 1 1-1.06-1.06l3.97-3.97h-2.69a.75.75 0 0 1-.75-.75Zm-12 0A.75.75 0 0 1 3.75 3h4.5a.75.75 0 0 1 0 1.5H5.56l3.97 3.97a.75.75 0 0 1-1.06 1.06L4.5 5.56v2.69a.75.75 0 0 1-1.5 0v-4.5Zm11.47 11.78a.75.75 0 1 1 1.06-1.06l3.97 3.97v-2.69a.75.75 0 0 1 1.5 0v4.5a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h2.69l-3.97-3.97Zm-4.94-1.06a.75.75 0 0 1 0 1.06L5.56 19.5h2.69a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 1 1.5 0v2.69l3.97-3.97a.75.75 0 0 1 1.06 0Z\",\n    clipRule: \"evenodd\"\n  })), album.authorId === user.id && photo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_EditPhoto_EditPhotoMenu__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _extends({}, props, {\n    album: album,\n    albumId: album.id,\n    photoId: photo.id,\n    placement: \"top-end\",\n    menuItemClassName: \"text-black\",\n    editAction: editPhotoClick\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex capitalize px-4 gap-4 pb-10 \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex flex-row justify-between item-start\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex items-start  items-center gap-2 px-2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex-none\"\n  }, album.author.profile.avatar && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"img\", {\n    className: \"w-8 h-8 rounded-full border-2 border-spacing-2 dark:border-orange-600   border-orange-600\",\n    src: album.author.profile.avatar,\n    alt: \"avatar\"\n  }), album.author.profile.avatar === null && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"  relative inline-flex items-center justify-center w-8 h-8 overflow-hidden bg-gray-100  rounded-full border-2 dark:bg-gray-100  dark:border-gray-500   border-gray-500\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"font-bold  dark:text-gray-300 text-xs\"\n  }, album.author.profile.firstName[0], album.author.profile.lastName[0]))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"grow  text-sm dark:text-white gap-0 p-0 text-xs flex flex-col  justify-start\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"\"\n  }, \"By\\xA0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"text-black\"\n  }, album.author.name || album.author.profile.firstName + ' ' + album.author.profile.lastName), \" on \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"\"\n  }, new Date(album.createdAt).toDateString())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, \"Views: \"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex flex-col justify-between item-start text-xs p-4\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"\"\n  }, \"In Album: \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"text-black\"\n  }, album.title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"\"\n  }, \"Categories: \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"text-black\"\n  }, photoCategories)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"\"\n  }, \"Dimension: \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"text-black\"\n  }, photoDimensions.join('x'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"\"\n  }, \"File Size: \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    className: \"text-black\"\n  }, photoFileSize))))))))), photo && isFullScreen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    style: {\n      background: \"#333333\"\n    },\n    className: \"z-50  absolute top-0 left-0 w-full h-full\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"img\", {\n    src: photo.url,\n    alt: photo.title,\n    style: {\n      cursor: isFullScreen ? \"zoom-out\" : \"zoom-in\"\n    },\n    onClick: () => {\n      if (isFullScreen) {\n        setIsFullScreen(false);\n      }\n    },\n    className: \"group-hover:scale-125 transition duration-500  object-contain absolute inset-0 h-full w-auto mx-auto \"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"hover-show z-10 mt-3 text-xl p-2 h-0 transition absolute w-full top-0 justify-end flex \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"p-2 w-14 h-14 cursor-pointer rounded-md\",\n    style: {\n      background: \"#333333aa\",\n      color: \"#ffffff\"\n    },\n    onClick: () => setIsFullScreen(false)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    className: \"w-6 h-6\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25\"\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"hover-show z-10 mt-3 text-xl p-2 h-0 transition absolute w-full top-1/2\",\n    onClick: () => setIsFullScreen(false)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"flex flex-row justify-between gap-1 block text-white \"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"p-2 w-14 h-14 cursor-pointer rounded-md\",\n    style: {\n      background: \"#333333aa\"\n    }\n  }, photoIndex > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    className: \"w-10 h-10\",\n    onClick: e => {\n      e.stopPropagation();\n      back();\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z\",\n    clipRule: \"evenodd\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"p-2 w-14 h-14 cursor-pointer rounded-md\",\n    style: {\n      background: \"#333333aa\"\n    }\n  }, album && photoIndex < album.content.photos.length - 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    className: \"w-10 h-10\",\n    onClick: e => {\n      e.stopPropagation();\n      forward();\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z\",\n    clipRule: \"evenodd\"\n  })))))), photo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_EditPhoto_EditPhotoDialog__WEBPACK_IMPORTED_MODULE_4__[\"default\"], _extends({}, props, {\n    visible: isEditPhoto,\n    album: album,\n    updatePhoto: setPhoto,\n    photoId: photo.id,\n    closeDialog: () => {\n      setIsEditPhoto(false);\n    }\n  })));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ViewPhoto);\n\n//# sourceURL=webpack://products/./src/components/ViewPhoto/index.js?");

/***/ })

}]);